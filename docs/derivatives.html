<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.3 Derivatives | MLE for Political Science</title>
  <meta name="description" content="3.3 Derivatives | MLE for Political Science" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="3.3 Derivatives | MLE for Political Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.3 Derivatives | MLE for Political Science" />
  
  
  

<meta name="author" content="Instructor: Katie McCabe" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mathematical-operations-in-r.html"/>
<link rel="next" href="vectors-and-matrices.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Overview</a></li>
<li class="chapter" data-level="2" data-path="rover.html"><a href="rover.html"><i class="fa fa-check"></i><b>2</b> R Overview</a>
<ul>
<li class="chapter" data-level="2.1" data-path="using-r-and-rstudio.html"><a href="using-r-and-rstudio.html"><i class="fa fa-check"></i><b>2.1</b> Using R and RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="math.html"><a href="math.html"><i class="fa fa-check"></i><b>3</b> The MATH</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematical-operations.html"><a href="mathematical-operations.html"><i class="fa fa-check"></i><b>3.1</b> Mathematical Operations</a></li>
<li class="chapter" data-level="3.2" data-path="mathematical-operations-in-r.html"><a href="mathematical-operations-in-r.html"><i class="fa fa-check"></i><b>3.2</b> Mathematical Operations in R</a></li>
<li class="chapter" data-level="3.3" data-path="derivatives.html"><a href="derivatives.html"><i class="fa fa-check"></i><b>3.3</b> Derivatives</a></li>
<li class="chapter" data-level="3.4" data-path="vectors-and-matrices.html"><a href="vectors-and-matrices.html"><i class="fa fa-check"></i><b>3.4</b> Vectors and Matrices</a></li>
<li class="chapter" data-level="3.5" data-path="additional-matrix-tidbits-that-will-come-up.html"><a href="additional-matrix-tidbits-that-will-come-up.html"><i class="fa fa-check"></i><b>3.5</b> Additional Matrix Tidbits that Will Come Up</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MLE for Political Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="derivatives" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Derivatives</h2>
<p>We will need to take some derivatives in the course. The reason is because a derivative gets us closer to understanding how to minimize and maximize certain functions, where a function maps elements of <span class="math inline">\(X\)</span> into elements of <span class="math inline">\(Y\)</span>. This is useful in social science, with methods such as linear regression and maximum likelihood estimation because it helps us estimate the values that we think will best describe the relationship between our independent variables and a dependent variable.</p>
<p>For example, in ordinary least squares (linear regression), we estimate coefficients, which describe the relationship between the independent and dependent variables (<em>for every 1 unit change in x, we estimate amount of change in y</em>), based on a method that tries to <em>minimize</em> the squared error between our estimated outcomes and the actual outcomes. In MLE, we will have a different quantity, which we will try to maximize.</p>
<p>To understand derivatives, we will briefly define limits.</p>
<p><strong>Limits</strong></p>
<p>A limit describes how a function behaves as it approaches (gets very close to) a certain value</p>
<ul>
<li><span class="math inline">\(\lim_{x \rightarrow a} f(x) = L\)</span></li>
</ul>
<p>Example: <span class="math inline">\(\lim_{x \rightarrow 3} x^2 = 9\)</span> The limit of this function as <span class="math inline">\(x\)</span> approaches three, is 9. Limits will appear in the expression for calculating derivatives.</p>
<p><strong>Derivatives</strong></p>
<p>For intuition on a derivative, watch this <a href="https://www.youtube.com/watch?v=i48KWnuAi4Q">video</a> from The Math Sorcerer.</p>
<p>A derivative is the instantaneous rate at which the function is changing at x: <em>the slope of a function at a particular point.</em></p>
<p>There are different notations for indicating something is a derivative. Below, we use <span class="math inline">\(f&#39;(x)\)</span> because we write our functions as <span class="math inline">\(f(x) = x\)</span>. Many times you might see a function equation like <span class="math inline">\(y = 3x\)</span> There, it will be common for the derivative to be written like <span class="math inline">\(\frac{dy}{dx}\)</span>.</p>
<p>Let’s break down the definition of a derivative by looking at its similarity to the simple definition of a slope, as the rise over the run:</p>
<ul>
<li>Slope (on average): rise over run: change in <span class="math inline">\(f(x)\)</span> over an interval (<span class="math inline">\([c, b]\)</span> where <span class="math inline">\(b-c =h\)</span>): <span class="math inline">\(\frac{f(b) - f(c)}{b-c}\)</span></li>
</ul>
<p>For slope at a specific point <span class="math inline">\(x\)</span> (the derivative of f(x) at x), we just make the interval <span class="math inline">\(h\)</span> very small:</p>
<ul>
<li><span class="math inline">\(f&#39;(x)= \lim_{h \rightarrow 0}\frac{f(a + h) - f(a)}{h}\)</span></li>
</ul>
<p>Example $f(x) = 2x + 3.</p>
<ul>
<li>f’(x) = <em>{h } = </em>{h } = _{h }2 = 2$</li>
</ul>
<p>This <a href="https://twitter.com/allison_horst/status/1307538146121244674">twitter thread</a> by the brilliant teacher and statistician Allison Horst, provides a nice cartoon-based example of the derivative. (Note that sometimes the interval <span class="math inline">\(h\)</span> is written as <span class="math inline">\(\Delta x\)</span>, the change in <span class="math inline">\(x\)</span>).</p>
<p><img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_1.jpg" style="width:40.0%" /> <img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_2.jpg" style="width:40.0%" />
<img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_3.jpg" style="width:40.0%" /> <img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_4.jpg" style="width:40.0%" />
<img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_5.jpg" style="width:40.0%" /> <img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_7.jpg" style="width:40.0%" />
<img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_8.jpg" style="width:40.0%" /> <img src="https://github.com/allisonhorst/stats-illustrations/raw/master/other-stats-artwork/derivative_9.jpg" style="width:40.0%" /></p>
<p><em>Images by Allison Horst</em></p>
<p><strong>Critical Points for Minima or Maxima</strong></p>
<p>In both OLS and MLE, we reach points where take what are called “first order conditions.” This means we take the derivative with respect to a parameter of interest and then set the derivative = 0 and solve for the parameter to get an expression for our estimator. (E.g., In OLS, we take the derivative of the sum of squared residuals, set it equal to zero, and solve to get an expression for <span class="math inline">\(\hat \beta\)</span>).</p>
<p>The reason we are interested in when the derivative is zero, is because this is when the instanaeous rate of change is zero, i.e., the slope at a particular point is zero. When does this happen? At a critical point– critical points are points where the derivative is zero (maximum or minimum). Think about it– at the top of a mountain, there is no more rise (and no decline). You are completing flat. The slope is zero.</p>
<p>Let’s take an example. The function <span class="math inline">\(f(x) = x^2 + 1\)</span> has the derivative <span class="math inline">\(f&#39;(x) = 2x\)</span>. This is zero when <span class="math inline">\(x = 0\)</span>.</p>
<p>The question remains: How do we know if it is a maximum or minimum?</p>
<p>We need to figure out if our function is concave or convex around this critical value. Convex is a “U” shape, meaning we are at a minimum, while concavity is an upside-down-U, which means we are at a maximum. We do so by taking the second derivative. This just means we take the derivative of the expression we already have for our first derivative. In our case, <span class="math inline">\(f&#39;&#39;(x) = 2\)</span>. So what? Well the key thing we are looking for is if this result is positive or negative. Here, it is positive, which means our function is convex at this critical value, and therefore, we are at a minimum.</p>
<p>Just look at the function in R if we plot it.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="derivatives.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Let&#39;s define an arbitrary set of values for x</span></span>
<span id="cb43-2"><a href="derivatives.html#cb43-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb43-3"><a href="derivatives.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Now let&#39;s map the elements of x into y using our function</span></span>
<span id="cb43-4"><a href="derivatives.html#cb43-4" aria-hidden="true" tabindex="-1"></a>fx <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb43-5"><a href="derivatives.html#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="derivatives.html#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Let&#39;s plot the results</span></span>
<span id="cb43-7"><a href="derivatives.html#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> x, <span class="at">y=</span>fx, </span>
<span id="cb43-8"><a href="derivatives.html#cb43-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb43-9"><a href="derivatives.html#cb43-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;f(x) = x^2 + 1&quot;</span>)</span></code></pre></div>
<p><img src="mlebookout_files/figure-html/unnamed-chunk-23-1.svg" width="672" /></p>
<p>Notice that when x=0, we are indeed at a minimum, just as the positive value of the second derivative would suggest.</p>
<p>A different example: <span class="math inline">\(f(x) = -2x^2 +1\)</span>. <span class="math inline">\(f&#39;(x) = -4x\)</span> When we set this equal to 0 we find a critical value at <span class="math inline">\(x = 0\)</span>. <span class="math inline">\(f&#39;&#39;(x) = -4\)</span>. Here, the value is negative, and we know it is concave. Sure enough, let’s plot it:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="derivatives.html#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb44-2"><a href="derivatives.html#cb44-2" aria-hidden="true" tabindex="-1"></a>fx <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span><span class="sc">*</span>x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb44-3"><a href="derivatives.html#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> x, <span class="at">y =</span> fx,</span>
<span id="cb44-4"><a href="derivatives.html#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">&quot;f(x)&quot;</span>,</span>
<span id="cb44-5"><a href="derivatives.html#cb44-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb44-6"><a href="derivatives.html#cb44-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;f(x) = -2x^2 + 1&quot;</span>)</span></code></pre></div>
<p><img src="mlebookout_files/figure-html/unnamed-chunk-24-1.svg" width="672" /></p>
<p><strong>Common Derivative Rules</strong></p>
<p>Below is a cheat sheet of rules for quickly identifying the derivatives of functions.</p>
<p>The derivative of a constant is 0.</p>
<ul>
<li><span class="math inline">\(f(x) = a; f&#39;(x) = 0\)</span>
<ul>
<li>Example: The derivative of 5 is 0.</li>
</ul></li>
</ul>
<p>Here is the power rule.</p>
<ul>
<li><span class="math inline">\(f(x) = ax^n; f&#39;(x) = n\times a \times x^{n-1}\)</span>
<ul>
<li>Example: The derivative of <span class="math inline">\(x^3 = 3x^{(3-1)} = 3x^2\)</span></li>
</ul></li>
</ul>
<p>We saw logs in the last section, and, yes, we see logs again here.</p>
<ul>
<li><span class="math inline">\(f(x) = e^{ax}; f&#39;(x) = ae^{ax}\)</span></li>
<li><span class="math inline">\(f(x) = \log(x); f&#39;(x) = \frac{1}{x}\)</span></li>
</ul>
<p>A very convenient rule is that a derivative of a sum = sum of the derivatives.</p>
<ul>
<li><span class="math inline">\(f(x) = g(x) + h(x); f&#39;(x) = g&#39;(x) + h&#39;(x)\)</span></li>
</ul>
<p>Products can be more of a headache. In this course, we will turn some product expressions into summation expressions to avoid the difficulties of taking derivatives with products.</p>
<ul>
<li>Product Rule: <span class="math inline">\(f(x) = g(x)h(x); f&#39;(x) = g&#39;(x)h(x) + h&#39;(x)g(x)\)</span></li>
</ul>
<p>The chain rule below looks a bit tricky, but it can be very helpful for simplifying the way you take a derivative. See this <a href="https://www.youtube.com/watch?v=H-ybCx8gt-8&amp;ab_channel=NancyPi">video</a> from NancyPi for a helpful explainer, as well as a follow-up for more complex applications <a href="https://www.youtube.com/watch?v=U_qp0isxQYU&amp;ab_channel=NancyPi">here</a>.</p>
<ul>
<li>Chain Rule: <span class="math inline">\(f(x) = g(h(x)); f&#39;(x) = g&#39;(h(x))h&#39;(x)\)</span></li>
</ul>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mathematical-operations-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="vectors-and-matrices.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
